
const {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
} = require("@google/generative-ai");

const apiKey = "";
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
};


export const chatSession = model.startChat({
    generationConfig,

    history: [

        {
            role: "user",
            parts: [
                { text: "Generate a travel plan for the location: Georgia for 9 day and 8 night for Solo with a Cheap budget with flight details, geo coordinates, ratings, description and places to visit nearby, place details, place image url, ticket pricing, travel time for each location for {totalDays} days with each day plan with best time to visit in JSON format.\n" },
            ],
        },
        {
            role: "model",
            parts: [
                { text: "```json\n{\n  \"tripName\": \"Georgia Solo Adventure on a Budget\",\n  \"tripDuration\": 9,\n  \"tripBudget\": \"Cheap\",\n  \"tripType\": \"Solo\",\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"title\": \"Arrival in Tbilisi & Explore Old Town\",\n      \"description\": \"Welcome to Georgia! Arrive at Tbilisi International Airport (TBS) and take a taxi or public transport to your budget-friendly accommodation in Old Town. Explore the historic streets, visit the Narikala Fortress for panoramic views, and enjoy traditional Georgian cuisine at a local restaurant.\",\n      \"locations\": [\n        {\n          \"name\": \"Tbilisi International Airport (TBS)\",\n          \"coordinates\": \"41.7151, 44.7822\",\n          \"rating\": 4.2,\n          \"description\": \"Main international airport serving Tbilisi.\",\n          \"image\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Tbilisi_Airport_2017.jpg/1280px-Tbilisi_Airport_2017.jpg\",\n          \"nearby\": [\n            {\n              \"name\": \"Old Town Tbilisi\",\n              \"coordinates\": \"41.6943, 44.7992\",\n              \"description\": \"Historic district with cobblestone streets, ancient churches, and lively markets.\"\n            },\n            {\n              \"name\": \"Narikala Fortress\",\n              \"coordinates\": \"41.6974, 44.8025\",\n              \"description\": \"Ancient fortress offering stunning views of the city.\"\n            }\n          ]\n        },\n        {\n          \"name\": \"Old Town Tbilisi\",\n          \"coordinates\": \"41.6943, 44.7992\",\n          \"rating\": 4.8,\n          \"description\": \"Historic district with cobblestone streets, ancient churches, and lively markets.\",\n          \"image\": \"https://www.lonelyplanet.com/media/content/dam/lpo/lpnet/web/articles/2018/05/tbilisi-georgia-old-town-shutterstock.jpg\",\n          \"nearby\": [\n            {\n              \"name\": \"Narikala Fortress\",\n              \"coordinates\": \"41.6974, 44.8025\",\n              \"description\": \"Ancient fortress offering stunning views of the city.\"\n            },\n            {\n              \"name\": \"Sioni Cathedral\",\n              \"coordinates\": \"41.6958, 44.8017\",\n              \"description\": \"Historic cathedral with impressive architecture.\"\n            },\n            {\n              \"name\": \"Metekhi Church\",\n              \"coordinates\": \"41.6967, 44.8029\",\n              \"description\": \"Charming church perched on a cliff overlooking the Kura River.\"\n            }\n          ]\n        }\n      ],\n      \"timeToVisit\": \"Any time, but spring and autumn offer pleasant weather.\",\n      \"budget\": \"Low\",\n      \"transport\": \"Taxi or public transport\",\n      \"notes\": \"Consider booking a budget-friendly hostel or guesthouse in Old Town for a local experience.\"\n    },\n    {\n      \"day\": 2,\n      \"title\": \"Tbilisi's Hidden Gems & Culture\",\n      \"description\": \"Discover Tbilisi's hidden gems! Explore the Abanotubani district with its traditional sulfur baths, walk across the Bridge of Peace for panoramic views, and delve into Georgian culture at the Georgian National Museum. Enjoy a traditional Georgian dinner at a local restaurant.\",\n      \"locations\": [\n        {\n          \"name\": \"Abanotubani (Sulfur Baths)\",\n          \"coordinates\": \"41.6956, 44.8001\",\n          \"rating\": 4.5,\n          \"description\": \"Historic district known for its sulfur baths, believed to have healing properties.\",\n          \"image\": \"https://www.lonelyplanet.com/media/content/dam/lpo/lpnet/web/articles/2019/06/tbilisi-georgia-abanotubani-shutterstock.jpg\",\n          \"nearby\": [\n            {\n              \"name\": \"Bridge of Peace\",\n              \"coordinates\": \"41.6993, 44.8020\",\n              \"description\": \"Modern pedestrian bridge offering stunning views of the Kura River.\"\n            },\n            {\n              \"name\": \"Georgian National Museum\",\n              \"coordinates\": \"41.6946, 44.8047\",\n              \"description\": \"Museum showcasing Georgian history, art, and culture.\"\n            }\n          ]\n        },\n        {\n          \"name\": \"Bridge of Peace\",\n          \"coordinates\": \"41.6993, 44.8020\",\n          \"rating\": 4.3,\n          \"description\": \"Modern pedestrian bridge offering stunning views of the Kura River.\",\n          \"image\": \"https://www.lonelyplanet.com/media/content/dam/lpo/lpnet/web/articles/2018/05/tbilisi-georgia-bridge-of-peace-shutterstock.jpg\",\n          \"nearby\": [\n            {\n              \"name\": \"Rike Park\",\n              \"coordinates\": \"41.6994, 44.8012\",\n              \"description\": \"Park along the Kura River with beautiful views and green spaces.\"\n            },\n            {\n              \"name\": \"Tbilisi Opera and Ballet Theatre\",\n              \"coordinates\": \"41.7002, 44.8006\",\n              \"description\": \"Impressive theatre hosting classical performances.\"\n            }\n          ]\n        },\n        {\n          \"name\": \"Georgian National Museum\",\n          \"coordinates\": \"41.6946, 44.8047\",\n          \"rating\": 4.2,\n          \"description\": \"Museum showcasing Georgian history, art, and culture.\",\n          \"image\": \"https://www.lonelyplanet.com/media/content/dam/lpo/lpnet/web/articles/2018/05/tbilisi-georgia-georgian-national-museum-shutterstock.jpg\",\n          \"nearby\": [\n            {\n              \"name\": \"Freedom Square\",\n              \"coordinates\": \"41.6960, 44.8052\",\n              \"description\": \"Central square surrounded by government buildings and monuments.\"\n            },\n            {\n              \"name\": \"Rustaveli Avenue\",\n              \"coordinates\": \"41.6960, 44.8060\",\n              \"description\": \"Main boulevard lined with shops, cafes, and museums.\"\n            }\n          ]\n        }\n      ],\n      \"timeToVisit\": \"Any time, but spring and autumn offer pleasant weather.\",\n      \"budget\": \"Low\",\n      \"transport\": \"Walking or public transport\",\n      \"notes\": \"Take a guided tour of the sulfur baths for a deeper understanding of their history and tradition.\"\n    },\n    {\n      \"day\": 3,\n      \"title\": \"Day Trip to Mtskheta - The Ancient Capital\",\n      \"description\": \"Take a day trip to Mtskheta, Georgia's ancient capital. Explore the UNESCO World Heritage Sites of Svetitskhoveli Cathedral and Jvari Monastery, offering breathtaking views of the confluence of the Mtkvari and Aragvi rivers. Enjoy a traditional Georgian lunch at a local restaurant in Mtskheta.\",\n      \"locations\": [\n        {\n          \"name\": \"Mtskheta\",\n          \"coordinates\": \"41.9814, 44.7174\",\n          \"rating\": 4.7,\n          \"description\": \"Ancient capital of Georgia, home to UNESCO World Heritage Sites.\",\n          \"image\": \"https://www.lonelyplanet.com/media/content/dam/lpo/lpnet/web/articles/2018/05/mtskheta-georgia-svetitskhoveli-cathedral-shutterstock.jpg\",\n          \"nearby\": [\n            {\n              \"name\": \"Svetitskhoveli Cathedral\",\n              \"coordinates\": \"41.9807, 44.7179\",\n              \"description\": \"Major Georgian Orthodox cathedral, believed to house the tunic of Jesus.\"\n            },\n            {\n              \"name\": \"Jvari Monastery\",\n              \"coordinates\": \"41.9793, 44.7200\",\n              \"description\": \"6th-century monastery perched on a hilltop offering panoramic views.\"\n            }\n          ]\n        },\n        {\n          \"name\": \"Svetitskhoveli Cathedral\",\n          \"coordinates\": \"41.9807, 44.7179\",\n          \"rating\": 4.8,\n          \"description\": \"Major Georgian Orthodox cathedral, believed to house the tunic of Jesus.\",\n          \"image\": \"https://www.lonelyplanet.com/media/content/dam/lpo/lpnet/web/articles/2018/05/mtskheta-georgia-svetitskhoveli-cathedral-shutterstock.jpg\",\n          \"nearby\": [\n            {\n              \"name\": \"Jvari Monastery\",\n              \"coordinates\": \"41.9793, 44.7200\",\n              \"description\": \"6th-century monastery perched on a hilltop offering panoramic views.\"\n            }\n          ]\n        },\n        {\n          \"name\": \"Jvari Monastery\",\n          \"coordinates\": \"41.9793, 44.7200\",\n          \"rating\": 4.6,\n          \"description\": \"6th-century monastery perched on a hilltop offering panoramic views.\",\n          \"image\": \"https://www.lonelyplanet.com/media/content/dam/lpo/lpnet/web/articles/2018/05/mtskheta-georgia-jvari-monastery-shutterstock.jpg\",\n          \"nearby\": [\n            {\n              \"name\": \"Svetitskhoveli Cathedral\",\n              \"coordinates\": \"41.9807, 44.7179\",\n              \"description\": \"Major Georgian Orthodox cathedral, believed to house the tunic of Jesus.\"\n            }\n          ]\n        }\n      ],\n      \"timeToVisit\": \"Any time, but spring and autumn offer pleasant weather.\",\n      \"budget\": \"Low\",\n      \"transport\": \"Public transport or shared taxi\",\n      \"notes\": \"Consider hiring a local guide for a deeper understanding of the historical significance of Mtskheta.\"\n    },\n    {\n      \"day\": 4,\n      \"title\": \"Explore the Charming Kazbegi Region\",\n      \"description\": \"Head to Kazbegi, a stunning mountain region north of Tbilisi. Enjoy the scenic journey by minivan or marshrutka (shared taxi). Stay at a guesthouse in the village of Stepantsminda, near the Gergeti Trinity Church. Hike to the church for breathtaking views of Mount Kazbek.\",\n      \"locations\": [\n        {\n          \"name\": \"Kazbegi Region\",\n          \"coordinates\": \"42.4759, 44.5327\",\n          \"rating\": 4.9,\n          \"description\": \"Scenic mountain region known for its breathtaking landscapes and hiking trails.\",\n          \"image\": \"https://www.lonelyplanet.com/media/content/dam/lpo/lpnet/web/articles/2018/05/kazbegi-georgia-gergeti-trinity-church-shutterstock.jpg\",\n          \"nearby\": [\n            {\n              \"name\": \"Stepantsminda\",\n              \"coordinates\": \"42.4791, 44.5281\",\n              \"description\": \"Village near the Gergeti Trinity Church, popular base for hiking and exploring.\"\n            },\n            {\n              \"name\": \"Gergeti Trinity Church\",\n              \"coordinates\": \"42.4980, 44.5221\",\n              \"description\": \"Historic church perched on a hilltop, offering stunning views of Mount Kazbek.\"\n            }\n          ]\n        },\n        {\n          \"name\": \"Gergeti Trinity Church\",\n          \"coordinates\": \"42.4980, 44.5221\",\n          \"rating\": 4.8,\n          \"description\": \"Historic church perched on a hilltop, offering stunning views of Mount Kazbek.\",\n          \"image\": \"https://www.lonelyplanet.com/media/content/dam/lpo/lpnet/web/articles/2018/05/kazbegi-georgia-gergeti-trinity-church-shutterstock.jpg\",\n          \"nearby\": [\n            {\n              \"name\": \"Stepantsminda\",\n              \"coordinates\": \"42.4791, 44.5281\",\n              \"description\": \"Village near the Gergeti Trinity Church, popular base for hiking and exploring.\"\n            }\n          ]\n        }\n      ],\n      \"timeToVisit\": \"Summer for hiking and clear skies.\",\n      \"budget\": \"Low\",\n      \"transport\": \"Minivan or marshrutka (shared taxi)\",\n      \"notes\": \"Book accommodation in advance, especially during peak season.\"\n    },\n    {\n      \"day\": 5,\n      \"title\": \"Kazbegi Hiking & Scenic Views\",\n      \"description\": \"Spend the day exploring the stunning Kazbegi region. Hike to the Gergeti Trinity Church, enjoying panoramic views of Mount Kazbek. Visit the Dariali Gorge and admire the dramatic scenery. Enjoy a traditional Georgian dinner in Stepantsminda.\",\n      \"locations\": [\n        {\n          \"name\": \"Gergeti Trinity Church\",\n          \"coordinates\": \"42.4980, 44.5221\",\n          \"rating\": 4.8,\n          \"description\": \"Historic church perched on a hilltop, offering stunning views of Mount Kazbek.\",\n          \"image\": \"https://www.lonelyplanet.com/media/content/dam/lpo/lpnet/web/articles/2018/05/kazbegi-georgia-gergeti-trinity-church-shutterstock.jpg\",\n          \"nearby\": [\n            {\n              \"name\": \"Stepantsminda\",\n              \"coordinates\": \"42.4791, 44.5281\",\n              \"description\": \"Village near the Gergeti Trinity Church, popular base for hiking and exploring.\"\n            }\n          ]\n        },\n        {\n          \"name\": \"Dariali Gorge\",\n          \"coordinates\": \"42.4781, 44.6288\",\n          \"rating\": 4.6,\n          \"description\": \"Dramatic gorge with stunning views of the Terek River and the Caucasus Mountains.\",\n          \"image\": \"https://www.lonelyplanet.com/media/content/dam/lpo/lpnet/web/articles/2018/05/kazbegi-georgia-dariali-gorge-shutterstock.jpg\",\n          \"nearby\": [\n            {\n              \"name\": \"Stepantsminda\",\n              \"coordinates\": \"42.4791, 44.5281\",\n              \"description\": \"Village near the Gergeti Trinity Church, popular base for hiking and exploring.\"\n            }\n          ]\n        }\n      ],\n      \"timeToVisit\": \"Summer for hiking and clear skies.\",\n      \"budget\": \"Low\",\n      \"transport\": \"Walking or local transportation\",\n      \"notes\": \"Pack water, snacks, and appropriate hiking gear.\"\n    },\n    {\n      \"day\": 6,\n      \"title\": \"Return to Tbilisi & Explore the City\",\n      \"description\": \"Return to Tbilisi from Kazbegi by minivan or marshrutka. Spend the afternoon exploring Tbilisi's vibrant streets, visiting the Dry Bridge Market for unique souvenirs, and enjoying the lively atmosphere of the city. Enjoy dinner at a restaurant in Old Town.\",\n      \"locations\": [\n        {\n          \"name\": \"Tbilisi\",\n          \"coordinates\": \"41.6943, 44.7992\",\n          \"rating\": 4.8,\n          \"description\": \"Capital of Georgia, known for its historic Old Town, vibrant culture, and stunning scenery.\",\n          \"image\": \"https://www.lonelyplanet.com/media/content/dam/lpo/lpnet/web/articles/2018/05/tbilisi-georgia-city-shutterstock.jpg\",\n          \"nearby\": [\n            {\n              \"name\": \"Dry Bridge Market\",\n              \"coordinates\": \"41.6990, 44.8059\",\n              \"description\": \"Unique market selling antiques, vintage items, and souvenirs.\"\n            },\n            {\n              \"name\": \"Old Town Tbilisi\",\n              \"coordinates\": \"41.6943, 44.7992\",\n              \"description\": \"Historic district with cobblestone streets, ancient churches, and lively markets.\"\n            }\n          ]\n        },\n        {\n          \"name\": \"Dry Bridge Market\",\n          \"coordinates\": \"41.6990, 44.8059\",\n          \"rating\": 4.4,\n          \"description\": \"Unique market selling antiques, vintage items, and souvenirs.\",\n          \"image\": \"https://www.lonelyplanet.com/media/content/dam/lpo/lpnet/web/articles/2018/05/tbilisi-georgia-dry-bridge-market-shutterstock.jpg\",\n          \"nearby\": [\n            {\n              \"name\": \"Tbilisi\",\n              \"coordinates\": \"41.6943, 44.7992\",\n              \"description\": \"Capital of Georgia, known for its historic Old Town, vibrant culture, and stunning scenery.\"\n            }\n          ]\n        }\n      ],\n      \"timeToVisit\": \"Any time, but spring and autumn offer pleasant weather.\",\n      \"budget\": \"Low\",\n      \"transport\": \"Minivan or marshrutka (shared taxi)\",\n      \"notes\": \"Bargain for souvenirs at the Dry Bridge Market.\"\n    },\n    {\n      \"day\": 7,\n      \"title\": \"Wine Tasting & Explore the Tbilisi Wine Factory\",\n      \"description\": \"Immerse yourself in Georgian wine culture! Visit the Tbilisi Wine Factory for a guided tour and tasting of traditional Georgian wines. Explore the surrounding vineyards and learn about the history of Georgian winemaking.\",\n      \"locations\": [\n        {\n          \"name\": \"Tbilisi Wine Factory\",\n          \"coordinates\": \"41.7024, 44.7962\",\n          \"rating\": 4.5,\n          \"description\": \"Wine factory offering tours and tastings of traditional Georgian wines.\",\n          \"image\": \"https://www.lonelyplanet.com/media/content/dam/lpo/lpnet/web/articles/2018/05/tbilisi-georgia-wine-factory-shutterstock.jpg\",\n          \"nearby\": [\n            {\n              \"name\": \"Tbilisi\",\n              \"coordinates\": \"41.6943, 44.7992\",\n              \"description\": \"Capital of Georgia, known for its historic Old Town, vibrant culture, and stunning scenery.\"\n            }\n          ]\n        }\n      ],\n      \"timeToVisit\": \"Any time, but spring and autumn offer pleasant weather.\",\n      \"budget\": \"Low\",\n      \"transport\": \"Public transport or taxi\",\n      \"notes\": \"Book a tour in advance if you want to join a group tasting.\"\n    },\n    {\n      \"day\": 8,\n      \"title\": \"Relax & Enjoy Tbilisi's Charm\",\n      \"description\": \"Relax and enjoy Tbilisi's charm! Stroll through the botanical garden, explore the peaceful atmosphere of the Holy Trinity Cathedral, and enjoy a delicious dinner at a local restaurant. Consider attending a traditional Georgian music and dance performance for an authentic cultural experience.\",\n      \"locations\": [\n        {\n          \"name\": \"Tbilisi Botanical Garden\",\n          \"coordinates\": \"41.7152, 44.7975\",\n          \"rating\": 4.6,\n          \"description\": \"Peaceful botanical garden with a diverse collection of plants and trees.\",\n          \"image\": \"https://www.lonelyplanet.com/media/content/dam/lpo/lpnet/web/articles/2018/05/tbilisi-georgia-botanical-garden-shutterstock.jpg\",\n          \"nearby\": [\n            {\n              \"name\": \"Holy Trinity Cathedral\",\n              \"coordinates\": \"41.7140, 44.7975\",\n              \"description\": \"Impressive cathedral built in the 20th century, known for its grandeur.\"\n            }\n          ]\n        },\n        {\n          \"name\": \"Holy Trinity Cathedral\",\n          \"coordinates\": \"41.7140, 44.7975\",\n          \"rating\": 4.7,\n          \"description\": \"Impressive cathedral built in the 20th century, known for its grandeur.\",\n          \"image\": \"https://www.lonelyplanet.com/media/content/dam/lpo/lpnet/web/articles/2018/05/tbilisi-georgia-holy-trinity-cathedral-shutterstock.jpg\",\n          \"nearby\": [\n            {\n              \"name\": \"Tbilisi Botanical Garden\",\n              \"coordinates\": \"41.7152, 44.7975\",\n              \"description\": \"Peaceful botanical garden with a diverse collection of plants and trees.\"\n            }\n          ]\n        }\n      ],\n      \"timeToVisit\": \"Any time, but spring and autumn offer pleasant weather.\",\n      \"budget\": \"Low\",\n      \"transport\": \"Walking or public transport\",\n      \"notes\": \"Check for local events and performances in Tbilisi for a cultural evening.\"\n    },\n    {\n      \"day\": 9,\n      \"title\": \"Departure from Tbilisi\",\n      \"description\": \"Enjoy a final Georgian breakfast before departing from Tbilisi International Airport (TBS).\",\n      \"locations\": [\n        {\n          \"name\": \"Tbilisi International Airport (TBS)\",\n          \"coordinates\": \"41.7151, 44.7822\",\n          \"rating\": 4.2,\n          \"description\": \"Main international airport serving Tbilisi.\",\n          \"image\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Tbilisi_Airport_2017.jpg/1280px-Tbilisi_Airport_2017.jpg\",\n          \"nearby\": []\n        }\n      ],\n      \"timeToVisit\": \"Any time, but spring and autumn offer pleasant weather.\",\n      \"budget\": \"Low\",\n      \"transport\": \"Taxi or public transport\",\n      \"notes\": \"Allow ample time for check-in and security procedures.\"\n    }\n  ],\n  \"flightDetails\": {\n    \"arrivalAirport\": \"Tbilisi International Airport (TBS)\",\n    \"departureAirport\": \"Your departure airport\",\n    \"flightDuration\": \"Check flight duration based on your origin\",\n    \"flightPrice\": \"Check flight prices based on your origin and time of year\"\n  }\n}\n```\n\n**Please note:**\n\n* This itinerary is a suggestion, and you can customize it based on your interests and travel style.\n* The budget is estimated based on \"cheap\" travel, but actual costs may vary depending on your choices.\n* Prices for flights, accommodation, transportation, and activities may vary depending on the time of year and availability.\n* The ratings are based on general estimations and may differ from personal experiences.\n* Always double-check the opening hours and ticket prices of attractions before visiting.\n* Ensure you have travel insurance and necessary documents for your trip.\n\n**This itinerary can be further improved by adding specific details like:**\n\n* **Accommodation recommendations:** List specific hostels or guesthouses with their prices and links to booking websites.\n* **Specific restaurants:** Include restaurant names, menus, and approximate price ranges.\n* **Public transport options:** Provide information on bus routes, metro lines, and ticket prices.\n* **Tips on getting around:** Include information on walking, taxis, or hiring private transportation.\n\n**Remember:** Always research the latest travel guidelines, health advisories, and local regulations before planning your trip. \n" },
            ],
        },
    ],
});

// const result = await chatSession.sendMessage("Generate a travel plan fo location: New York");
// console.log(result.response.text());


